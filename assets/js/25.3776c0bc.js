(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{302:function(t,a,e){"use strict";e.r(a);var s=e(38),r=Object(s.a)({},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"dex-metrics"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dex-metrics","aria-hidden":"true"}},[t._v("#")]),t._v(" DEX Metrics")]),t._v(" "),e("p",[t._v("MarketMaker 2.0 (MM2) collects data metrics that allow interested users to view the history of events of a MM2 session. For example, metrics recorded by MM2 include incoming and outgoing traffic.")]),t._v(" "),e("p",[t._v("The metrics can be:")]),t._v(" "),e("ul",[e("li",[t._v("Recorded to a log file at a specified frequency")]),t._v(" "),e("li",[t._v("Requested using AtomicDEX API in JSON format")]),t._v(" "),e("li",[t._v("Visualized using Prometheus and Grafana")])]),t._v(" "),e("h2",{attrs:{id:"setting-up-the-log-recording"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#setting-up-the-log-recording","aria-hidden":"true"}},[t._v("#")]),t._v(" Setting Up the Log Recording")]),t._v(" "),e("p",[t._v("By default, the collected metrics are recorded to a log file every five minutes.")]),t._v(" "),e("p",[t._v("A custom time interval can be set during the initiation of the MarketMaker 2.0 software.")]),t._v(" "),e("p",[t._v("For example, to set the interval to two minutes, initiate MM2 with the additional argument "),e("code",[t._v('\\"metrics\\":120')]),t._v(", as follows.")]),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",[t._v("Note that in the examples below, the you will need to change the text to reflect your own password and passphrase.")])]),t._v(" "),e("p",[t._v("Example:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("stdbuf -oL ./mm2 "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{\\"gui\\":\\"MM2GUI\\",\\"netid\\":9999, \\"userhome\\":\\"/${HOME#"')]),t._v("/"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"}\\", \\"passphrase\\":\\"YOUR_PASSPHRASE_HERE\\", \\"rpc_password\\":\\"YOUR_PASSWORD_HERE\\", \\"metrics\\":120}"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n")])])]),e("p",[t._v("To prohibit the recording of metrics to the log file, set the "),e("code",[t._v("metrics")]),t._v(" argument to 0.")]),t._v(" "),e("p",[t._v("Example:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("stdbuf -oL ./mm2 "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{\\"gui\\":\\"MM2GUI\\",\\"netid\\":9999, \\"userhome\\":\\"/${HOME#"')]),t._v("/"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"}\\", \\"passphrase\\":\\"YOUR_PASSPHRASE_HERE\\", \\"rpc_password\\":\\"YOUR_PASSWORD_HERE\\", \\"metrics\\":0}"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n")])])]),e("h2",{attrs:{id:"api-calling"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-calling","aria-hidden":"true"}},[t._v("#")]),t._v(" API Calling")]),t._v(" "),e("p",[t._v("Execute the following command to request a metrics snapshot.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" --url "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://127.0.0.1:7783"')]),t._v(" --data "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{\\"method\\":\\"metrics\\"}"')]),t._v("\n")])])]),e("p",[t._v("The response should be similar to the following.")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"metrics"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"key"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rpc_client.traffic.out"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"labels"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"coin"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RICK"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"client"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"electrum"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"counter"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"value"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("92")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"key"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rpc_client.traffic.in"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"labels"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"coin"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RICK"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"client"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"electrum"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"counter"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"value"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("125")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h2",{attrs:{id:"prometheus-integration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#prometheus-integration","aria-hidden":"true"}},[t._v("#")]),t._v(" Prometheus Integration")]),t._v(" "),e("p",[t._v("MarketMaker 2.0 supports integration with Prometheus. This software allows users to setup automated scraping of metrics at regular intervals and enables sophisticated queries on the stored "),e("a",{attrs:{href:"https://en.wikipedia.org/wiki/Time_series",target:"_blank",rel:"noopener noreferrer"}},[t._v("timeseries"),e("OutboundLink")],1),t._v(" data. It also allows users to configure an elegant dashboard using built-in "),e("a",{attrs:{href:"https://prometheus.io/docs/prometheus/latest/getting_started/#using-the-expression-browser",target:"_blank",rel:"noopener noreferrer"}},[t._v("graphs,"),e("OutboundLink")],1),t._v(" or to export data for graphical processing using "),e("a",{attrs:{href:"https://prometheus.io/docs/visualization/grafana/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Grafana"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("p",[t._v("Prometheus scrapes metrics using an HTTP pull model.")]),t._v(" "),e("p",[t._v("To provide Prometheus with the ability to scrape the metrics at "),e("a",{attrs:{href:"localhost:9001"}},[t._v("localhost:9001")]),t._v(", initiate MM2 with the following additional argument:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('\\"prometheusport\\":9001\n')])])]),e("p",[t._v("You may optionally specify the username and password for Promotheus to enforce basic authorization security. For this effect, add one more argument as follows:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('\\"prometheus_credentials\\":\\"PROM_USERNAME:PROM_PASSWORD\\"\n')])])]),e("p",[t._v("Note that this additional argument is NOT necessary.")]),t._v(" "),e("p",[t._v("Replace PROM_USERNAME and PROM_PASSWORD with your actual Prometheus username and password.")]),t._v(" "),e("p",[t._v("Note that the username and password should be separated by "),e("code",[t._v(":")]),t._v(".")]),t._v(" "),e("p",[t._v("Example:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("stdbuf -oL ./mm2 "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{\\"gui\\":\\"MM2GUI\\",\\"netid\\":9999, \\"userhome\\":\\"/${HOME#"')]),t._v("/"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"}\\", \\"passphrase\\":\\"YOUR_PASSPHRASE_HERE\\", \\"rpc_password\\":\\"YOUR_PASSWORD_HERE\\", \\"prometheusport\\":9001, \\"prometheus_credentials\\":\\"PROM_USERNAME:PROM_PASSWORD\\"}"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n")])])]),e("h3",{attrs:{id:"configuring-prometheus-to-monitor-marketmaker-2-0"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configuring-prometheus-to-monitor-marketmaker-2-0","aria-hidden":"true"}},[t._v("#")]),t._v(" Configuring Prometheus to monitor MarketMaker 2.0")]),t._v(" "),e("p",[t._v("The following basic Prometheus configuration file, named "),e("code",[t._v("prometheus.yml")]),t._v(", can simplify the process of connecting Prometheus to MarketMaker2.0.")]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("global")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("scrape_interval")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 10s\n\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("scrape_configs")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("job_name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MarketMaker2'")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("basic_auth")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("username")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'PROM_USERNAME'")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PROM_PASSWORD"')]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("static_configs")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("targets")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0.0.0.0:9001'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("p",[t._v("Replace PROM_USERNAME and PROM_PASSWORD with your actual Prometheus username and password.")]),t._v(" "),e("p",[t._v("To learn more about creating a Prometheus configuration file, "),e("a",{attrs:{href:"https://prometheus.io/docs/prometheus/latest/configuration/configuration/",target:"_blank",rel:"noopener noreferrer"}},[t._v("read this documentation."),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"starting-prometheus-and-grafana"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#starting-prometheus-and-grafana","aria-hidden":"true"}},[t._v("#")]),t._v(" Starting Prometheus and Grafana")]),t._v(" "),e("p",[t._v("A simple way to initiate Prometheus and Grafana is to have the standard Prometheus and Grafana docker containers run together using "),e("code",[t._v("docker-compose")]),t._v(".")]),t._v(" "),e("p",[t._v("Name the following compose file as "),e("code",[t._v("docker-compose.yml")]),t._v(".")]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3.1"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("prometheus")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("grafana")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("services")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("grafana")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" grafana/grafana"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("latest\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("depends_on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" prometheus\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'3000:3000'")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("network_mode")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"host"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" grafana"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/var/lib/grafana\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("prometheus")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" prom/prometheus"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("latest\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'9090:9090'")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("network_mode")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"host"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ./prometheus.yml"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/etc/prometheus/prometheus.yml\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" prometheus"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/prometheus\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always\n")])])]),e("p",[t._v("Use the following command to start both containers.")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("docker-compose up\n")])])]),e("h3",{attrs:{id:"using-the-graphing-interface"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#using-the-graphing-interface","aria-hidden":"true"}},[t._v("#")]),t._v(" Using the graphing interface")]),t._v(" "),e("h4",{attrs:{id:"prometheus"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#prometheus","aria-hidden":"true"}},[t._v("#")]),t._v(" Prometheus")]),t._v(" "),e("p",[t._v("Once the docker containers are up and running, navigate to "),e("a",{attrs:{href:"http://localhost:9090/graph",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:9090/graph"),e("OutboundLink")],1),t._v(" and use the "),e("code",[t._v("Graph")]),t._v(" tab to use Prometheus's built-in graph expressions.")]),t._v(" "),e("p",[t._v("To visualize one of the available metrics, click on the dropdown menu highlighted in the following picture, select a metric and then click execute.")]),t._v(" "),e("div",{staticStyle:{margin:"2rem","text-align":"center",width:"80%"}},[e("img",{attrs:{src:"/prom-metric-selection.png"}})]),t._v(" "),e("p",[t._v("The graphical representation of the metric can be viewed in the "),e("code",[t._v("Graph")]),t._v(" tab.")]),t._v(" "),e("div",{staticStyle:{margin:"2rem","text-align":"center",width:"80%"}},[e("img",{attrs:{src:"/prom-graph-example.png"}})]),t._v(" "),e("p",[t._v('More graphs can be added to the same page using the "Add Graph" button available.')]),t._v(" "),e("h4",{attrs:{id:"graphana"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#graphana","aria-hidden":"true"}},[t._v("#")]),t._v(" Graphana")]),t._v(" "),e("p",[t._v("Graphana can access data scraped by Prometheus and it can analyze, transform and display it in a variety of ways. For more information see the "),e("a",{attrs:{href:"https://prometheus.io/docs/visualization/grafana/#using",target:"_blank",rel:"noopener noreferrer"}},[t._v("Prometheus guide."),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("To use Grafana, navigate to "),e("a",{attrs:{href:"http://localhost:3000",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:3000"),e("OutboundLink")],1),t._v(" and log in using the default credentials: "),e("code",[t._v("admin")]),t._v(" / "),e("code",[t._v("admin")]),t._v(". When offered to set a new password, do so and remember it.")]),t._v(" "),e("p",[t._v("Next, navigate to "),e("a",{attrs:{href:"http://localhost:3000/dashboards",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:3000/dashboards"),e("OutboundLink")],1),t._v(" and click on the "),e("code",[t._v("New Dashboard")]),t._v(" button")]),t._v(" "),e("div",{staticStyle:{margin:"2rem","text-align":"center",width:"80%"}},[e("img",{attrs:{src:"/graphana-new-dashboard.png"}})]),t._v(" "),e("p",[t._v("Next, click the "),e("code",[t._v("Add Panel")]),t._v(" button")]),t._v(" "),e("div",{staticStyle:{margin:"2rem","text-align":"center",width:"80%"}},[e("img",{attrs:{src:"/graphana-add-panel.png"}})]),t._v(" "),e("p",[t._v("In the next screen, select "),e("code",[t._v("Prometheus")]),t._v(" as the provider from the drop down menu in the "),e("code",[t._v("Query")]),t._v(" tab.")]),t._v(" "),e("div",{staticStyle:{margin:"2rem","text-align":"center",width:"80%"}},[e("img",{attrs:{src:"/graphana-select-prometheus.png"}})]),t._v(" "),e("p",[t._v("Click the "),e("code",[t._v("Metrics")]),t._v(" menu and select one of the available options. These should be the same ones available directly in the Graphs tab of Prometheus: "),e("a",{attrs:{href:"http://localhost:9090/graph",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:9090/graph"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("div",{staticStyle:{margin:"2rem","text-align":"center",width:"80%"}},[e("img",{attrs:{src:"/graphana-select-metric.png"}})]),t._v(" "),e("p",[t._v("Optionally, follow the hint to add "),e("code",[t._v("rate")]),t._v(" in the previous screen by clicking "),e("code",[t._v("Fix by adding rate()")]),t._v(". This results in the following screen.")]),t._v(" "),e("div",{staticStyle:{margin:"2rem","text-align":"center",width:"80%"}},[e("img",{attrs:{src:"/graphana-rate-applied.png"}})]),t._v(" "),e("p",[t._v("Click the "),e("code",[t._v("Save")]),t._v(" button and set a name for the dashboard.")]),t._v(" "),e("div",{staticStyle:{margin:"2rem","text-align":"center",width:"80%"}},[e("img",{attrs:{src:"/graphana-save-panel.png"}})]),t._v(" "),e("p",[t._v("Now you have a Graphana dashboard with a panel that shows a graph of the "),e("code",[t._v("rpc_client_traffic_in")]),t._v(".")]),t._v(" "),e("div",{staticStyle:{margin:"2rem","text-align":"center",width:"80%"}},[e("img",{attrs:{src:"/graphana-dashboard.png"}})])])},[],!1,null,null,null);a.default=r.exports}}]);