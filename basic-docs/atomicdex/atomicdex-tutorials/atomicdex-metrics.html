<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DEX Metrics | AtomicDEX Documentation</title>
    <meta name="description" content="Documentation for developers building on AtomicDEX">
    <link rel="icon" href="mark_only.svg">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@komodoplatform">
  <meta name="twitter:title" content="Komodo Developer Documentation">
  <meta name="twitter:description" content="Documentation for developers building on the Komodo Platform">
  <meta name="twitter:image" content="https://developers.komodoplatform.com/start-here-pics/Dev_Docs_Introduction_small.png">
    <link rel="preload" href="/assets/css/0.styles.c03dd1e2.css" as="style"><link rel="preload" href="/assets/js/app.01355489.js" as="script"><link rel="preload" href="/assets/js/3.95b03a41.js" as="script"><link rel="preload" href="/assets/js/4.d40d3351.js" as="script"><link rel="preload" href="/assets/js/25.3776c0bc.js" as="script"><link rel="prefetch" href="/assets/js/10.2f7a9294.js"><link rel="prefetch" href="/assets/js/11.98a26ba3.js"><link rel="prefetch" href="/assets/js/12.d4f9f38f.js"><link rel="prefetch" href="/assets/js/13.f29e429c.js"><link rel="prefetch" href="/assets/js/14.23629310.js"><link rel="prefetch" href="/assets/js/15.b5ea9b63.js"><link rel="prefetch" href="/assets/js/16.b3e049d7.js"><link rel="prefetch" href="/assets/js/17.fc62979a.js"><link rel="prefetch" href="/assets/js/18.2b1ab24f.js"><link rel="prefetch" href="/assets/js/19.5b15b82f.js"><link rel="prefetch" href="/assets/js/20.17860e4a.js"><link rel="prefetch" href="/assets/js/21.56d495cd.js"><link rel="prefetch" href="/assets/js/22.34558f09.js"><link rel="prefetch" href="/assets/js/23.1d370ec7.js"><link rel="prefetch" href="/assets/js/24.22da08df.js"><link rel="prefetch" href="/assets/js/26.c7c043b3.js"><link rel="prefetch" href="/assets/js/27.6555be09.js"><link rel="prefetch" href="/assets/js/28.75bc57e2.js"><link rel="prefetch" href="/assets/js/29.ba6ba5b0.js"><link rel="prefetch" href="/assets/js/30.01ba35af.js"><link rel="prefetch" href="/assets/js/31.6b7b4973.js"><link rel="prefetch" href="/assets/js/32.e07ca883.js"><link rel="prefetch" href="/assets/js/5.e7ddcdfb.js"><link rel="prefetch" href="/assets/js/6.a1b0d5af.js"><link rel="prefetch" href="/assets/js/7.5922bebe.js"><link rel="prefetch" href="/assets/js/8.ff75309f.js"><link rel="prefetch" href="/assets/js/9.ebdf0b59.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.53715b61.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c03dd1e2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo_light.svg" alt="AtomicDEX Documentation" class="logo"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://atomicdex.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AtomicDEX.io
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/KomodoPlatform/AtomicDEX-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://atomicdex.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AtomicDEX.io
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/KomodoPlatform/AtomicDEX-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>AtomicDEX</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/basic-docs/atomicdex/introduction-to-atomicdex.html" class="sidebar-link">Introduction to AtomicDEX Documentation</a></li><li><a href="/basic-docs/atomicdex/changelog.html" class="sidebar-link">AtomicDEX Change Log</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>AtomicDEX Setup</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>AtomicDEX Tutorials</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/basic-docs/atomicdex/atomicdex-tutorials/introduction-to-atomicdex.html" class="sidebar-link">Introduction to AtomicDEX</a></li><li><a href="/basic-docs/atomicdex/atomicdex-tutorials/atomicdex-walkthrough.html" class="sidebar-link">AtomicDEX Walkthrough</a></li><li><a href="/basic-docs/atomicdex/atomicdex-tutorials/how-to-become-a-liquidity-provider.html" class="sidebar-link">How to Become a Liquidity Provider</a></li><li><a href="/basic-docs/atomicdex/atomicdex-tutorials/atomicdex-metrics.html" class="active sidebar-link">DEX Metrics</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/basic-docs/atomicdex/atomicdex-tutorials/atomicdex-metrics.html#setting-up-the-log-recording" class="sidebar-link">Setting Up the Log Recording</a></li><li class="sidebar-sub-header"><a href="/basic-docs/atomicdex/atomicdex-tutorials/atomicdex-metrics.html#api-calling" class="sidebar-link">API Calling</a></li><li class="sidebar-sub-header"><a href="/basic-docs/atomicdex/atomicdex-tutorials/atomicdex-metrics.html#prometheus-integration" class="sidebar-link">Prometheus Integration</a></li></ul></li><li><a href="/basic-docs/atomicdex/atomicdex-tutorials/additional-information-about-atomicdex.html" class="sidebar-link">Additional Information About AtomicDEX</a></li><li><a href="/basic-docs/atomicdex/atomicdex-tutorials/setup-atomicdex-aws.html" class="sidebar-link">How to Setup and use AtomicDEX-API on a AWS EC2 instance</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>AtomicDEX Beta</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/basic-docs/atomicdex/atomicdex-api.html" class="sidebar-link">AtomicDEX API</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="dex-metrics"><a href="#dex-metrics" aria-hidden="true" class="header-anchor">#</a> DEX Metrics</h1> <p>MarketMaker 2.0 (MM2) collects data metrics that allow interested users to view the history of events of a MM2 session. For example, metrics recorded by MM2 include incoming and outgoing traffic.</p> <p>The metrics can be:</p> <ul><li>Recorded to a log file at a specified frequency</li> <li>Requested using AtomicDEX API in JSON format</li> <li>Visualized using Prometheus and Grafana</li></ul> <h2 id="setting-up-the-log-recording"><a href="#setting-up-the-log-recording" aria-hidden="true" class="header-anchor">#</a> Setting Up the Log Recording</h2> <p>By default, the collected metrics are recorded to a log file every five minutes.</p> <p>A custom time interval can be set during the initiation of the MarketMaker 2.0 software.</p> <p>For example, to set the interval to two minutes, initiate MM2 with the additional argument <code>\&quot;metrics\&quot;:120</code>, as follows.</p> <div class="tip custom-block"><p>Note that in the examples below, the you will need to change the text to reflect your own password and passphrase.</p></div> <p>Example:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>stdbuf -oL ./mm2 <span class="token string">&quot;{\&quot;gui\&quot;:\&quot;MM2GUI\&quot;,\&quot;netid\&quot;:9999, \&quot;userhome\&quot;:\&quot;/${HOME#&quot;</span>/<span class="token string">&quot;}\&quot;, \&quot;passphrase\&quot;:\&quot;YOUR_PASSPHRASE_HERE\&quot;, \&quot;rpc_password\&quot;:\&quot;YOUR_PASSWORD_HERE\&quot;, \&quot;metrics\&quot;:120}&quot;</span> <span class="token operator">&amp;</span>
</code></pre></div><p>To prohibit the recording of metrics to the log file, set the <code>metrics</code> argument to 0.</p> <p>Example:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>stdbuf -oL ./mm2 <span class="token string">&quot;{\&quot;gui\&quot;:\&quot;MM2GUI\&quot;,\&quot;netid\&quot;:9999, \&quot;userhome\&quot;:\&quot;/${HOME#&quot;</span>/<span class="token string">&quot;}\&quot;, \&quot;passphrase\&quot;:\&quot;YOUR_PASSPHRASE_HERE\&quot;, \&quot;rpc_password\&quot;:\&quot;YOUR_PASSWORD_HERE\&quot;, \&quot;metrics\&quot;:0}&quot;</span> <span class="token operator">&amp;</span>
</code></pre></div><h2 id="api-calling"><a href="#api-calling" aria-hidden="true" class="header-anchor">#</a> API Calling</h2> <p>Execute the following command to request a metrics snapshot.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> --url <span class="token string">&quot;http://127.0.0.1:7783&quot;</span> --data <span class="token string">&quot;{\&quot;method\&quot;:\&quot;metrics\&quot;}&quot;</span>
</code></pre></div><p>The response should be similar to the following.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;metrics&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rpc_client.traffic.out&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;labels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">&quot;coin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RICK&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;client&quot;</span><span class="token operator">:</span> <span class="token string">&quot;electrum&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;counter&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">92</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rpc_client.traffic.in&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;labels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">&quot;coin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RICK&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;client&quot;</span><span class="token operator">:</span> <span class="token string">&quot;electrum&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;counter&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">125</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="prometheus-integration"><a href="#prometheus-integration" aria-hidden="true" class="header-anchor">#</a> Prometheus Integration</h2> <p>MarketMaker 2.0 supports integration with Prometheus. This software allows users to setup automated scraping of metrics at regular intervals and enables sophisticated queries on the stored <a href="https://en.wikipedia.org/wiki/Time_series" target="_blank" rel="noopener noreferrer">timeseries<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> data. It also allows users to configure an elegant dashboard using built-in <a href="https://prometheus.io/docs/prometheus/latest/getting_started/#using-the-expression-browser" target="_blank" rel="noopener noreferrer">graphs,<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> or to export data for graphical processing using <a href="https://prometheus.io/docs/visualization/grafana/" target="_blank" rel="noopener noreferrer">Grafana<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>Prometheus scrapes metrics using an HTTP pull model.</p> <p>To provide Prometheus with the ability to scrape the metrics at <a href="localhost:9001">localhost:9001</a>, initiate MM2 with the following additional argument:</p> <div class="language- extra-class"><pre class="language-text"><code>\&quot;prometheusport\&quot;:9001
</code></pre></div><p>You may optionally specify the username and password for Promotheus to enforce basic authorization security. For this effect, add one more argument as follows:</p> <div class="language- extra-class"><pre class="language-text"><code>\&quot;prometheus_credentials\&quot;:\&quot;PROM_USERNAME:PROM_PASSWORD\&quot;
</code></pre></div><p>Note that this additional argument is NOT necessary.</p> <p>Replace PROM_USERNAME and PROM_PASSWORD with your actual Prometheus username and password.</p> <p>Note that the username and password should be separated by <code>:</code>.</p> <p>Example:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>stdbuf -oL ./mm2 <span class="token string">&quot;{\&quot;gui\&quot;:\&quot;MM2GUI\&quot;,\&quot;netid\&quot;:9999, \&quot;userhome\&quot;:\&quot;/${HOME#&quot;</span>/<span class="token string">&quot;}\&quot;, \&quot;passphrase\&quot;:\&quot;YOUR_PASSPHRASE_HERE\&quot;, \&quot;rpc_password\&quot;:\&quot;YOUR_PASSWORD_HERE\&quot;, \&quot;prometheusport\&quot;:9001, \&quot;prometheus_credentials\&quot;:\&quot;PROM_USERNAME:PROM_PASSWORD\&quot;}&quot;</span> <span class="token operator">&amp;</span>
</code></pre></div><h3 id="configuring-prometheus-to-monitor-marketmaker-2-0"><a href="#configuring-prometheus-to-monitor-marketmaker-2-0" aria-hidden="true" class="header-anchor">#</a> Configuring Prometheus to monitor MarketMaker 2.0</h3> <p>The following basic Prometheus configuration file, named <code>prometheus.yml</code>, can simplify the process of connecting Prometheus to MarketMaker2.0.</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">global</span><span class="token punctuation">:</span>
  <span class="token key atrule">scrape_interval</span><span class="token punctuation">:</span> 10s
<span class="token key atrule">scrape_configs</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">job_name</span><span class="token punctuation">:</span> <span class="token string">'MarketMaker2'</span>
    <span class="token key atrule">basic_auth</span><span class="token punctuation">:</span>
      <span class="token key atrule">username</span><span class="token punctuation">:</span> <span class="token string">'PROM_USERNAME'</span>
      <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token string">&quot;PROM_PASSWORD&quot;</span>
    <span class="token key atrule">static_configs</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">targets</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'0.0.0.0:9001'</span><span class="token punctuation">]</span>
</code></pre></div><p>Replace PROM_USERNAME and PROM_PASSWORD with your actual Prometheus username and password.</p> <p>To learn more about creating a Prometheus configuration file, <a href="https://prometheus.io/docs/prometheus/latest/configuration/configuration/" target="_blank" rel="noopener noreferrer">read this documentation.<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="starting-prometheus-and-grafana"><a href="#starting-prometheus-and-grafana" aria-hidden="true" class="header-anchor">#</a> Starting Prometheus and Grafana</h3> <p>A simple way to initiate Prometheus and Grafana is to have the standard Prometheus and Grafana docker containers run together using <code>docker-compose</code>.</p> <p>Name the following compose file as <code>docker-compose.yml</code>.</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3.1&quot;</span>
<span class="token key atrule">volumes</span><span class="token punctuation">:</span>
  <span class="token key atrule">prometheus</span><span class="token punctuation">:</span>
  <span class="token key atrule">grafana</span><span class="token punctuation">:</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">grafana</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> grafana/grafana<span class="token punctuation">:</span>latest
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> prometheus
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">'3000:3000'</span>
    <span class="token key atrule">network_mode</span><span class="token punctuation">:</span> <span class="token string">&quot;host&quot;</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> grafana<span class="token punctuation">:</span>/var/lib/grafana
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
  <span class="token key atrule">prometheus</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> prom/prometheus<span class="token punctuation">:</span>latest
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">'9090:9090'</span>
    <span class="token key atrule">network_mode</span><span class="token punctuation">:</span> <span class="token string">&quot;host&quot;</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./prometheus.yml<span class="token punctuation">:</span>/etc/prometheus/prometheus.yml
      <span class="token punctuation">-</span> prometheus<span class="token punctuation">:</span>/prometheus
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
</code></pre></div><p>Use the following command to start both containers.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>docker-compose up
</code></pre></div><h3 id="using-the-graphing-interface"><a href="#using-the-graphing-interface" aria-hidden="true" class="header-anchor">#</a> Using the graphing interface</h3> <h4 id="prometheus"><a href="#prometheus" aria-hidden="true" class="header-anchor">#</a> Prometheus</h4> <p>Once the docker containers are up and running, navigate to <a href="http://localhost:9090/graph" target="_blank" rel="noopener noreferrer">http://localhost:9090/graph<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and use the <code>Graph</code> tab to use Prometheus's built-in graph expressions.</p> <p>To visualize one of the available metrics, click on the dropdown menu highlighted in the following picture, select a metric and then click execute.</p> <div style="margin:2rem;text-align:center;width:80%;"><img src="/prom-metric-selection.png"></div> <p>The graphical representation of the metric can be viewed in the <code>Graph</code> tab.</p> <div style="margin:2rem;text-align:center;width:80%;"><img src="/prom-graph-example.png"></div> <p>More graphs can be added to the same page using the &quot;Add Graph&quot; button available.</p> <h4 id="graphana"><a href="#graphana" aria-hidden="true" class="header-anchor">#</a> Graphana</h4> <p>Graphana can access data scraped by Prometheus and it can analyze, transform and display it in a variety of ways. For more information see the <a href="https://prometheus.io/docs/visualization/grafana/#using" target="_blank" rel="noopener noreferrer">Prometheus guide.<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>To use Grafana, navigate to <a href="http://localhost:3000" target="_blank" rel="noopener noreferrer">http://localhost:3000<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and log in using the default credentials: <code>admin</code> / <code>admin</code>. When offered to set a new password, do so and remember it.</p> <p>Next, navigate to <a href="http://localhost:3000/dashboards" target="_blank" rel="noopener noreferrer">http://localhost:3000/dashboards<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and click on the <code>New Dashboard</code> button</p> <div style="margin:2rem;text-align:center;width:80%;"><img src="/graphana-new-dashboard.png"></div> <p>Next, click the <code>Add Panel</code> button</p> <div style="margin:2rem;text-align:center;width:80%;"><img src="/graphana-add-panel.png"></div> <p>In the next screen, select <code>Prometheus</code> as the provider from the drop down menu in the <code>Query</code> tab.</p> <div style="margin:2rem;text-align:center;width:80%;"><img src="/graphana-select-prometheus.png"></div> <p>Click the <code>Metrics</code> menu and select one of the available options. These should be the same ones available directly in the Graphs tab of Prometheus: <a href="http://localhost:9090/graph" target="_blank" rel="noopener noreferrer">http://localhost:9090/graph<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <div style="margin:2rem;text-align:center;width:80%;"><img src="/graphana-select-metric.png"></div> <p>Optionally, follow the hint to add <code>rate</code> in the previous screen by clicking <code>Fix by adding rate()</code>. This results in the following screen.</p> <div style="margin:2rem;text-align:center;width:80%;"><img src="/graphana-rate-applied.png"></div> <p>Click the <code>Save</code> button and set a name for the dashboard.</p> <div style="margin:2rem;text-align:center;width:80%;"><img src="/graphana-save-panel.png"></div> <p>Now you have a Graphana dashboard with a panel that shows a graph of the <code>rpc_client_traffic_in</code>.</p> <div style="margin:2rem;text-align:center;width:80%;"><img src="/graphana-dashboard.png"></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/KomodoPlatform/AtomicDEX-docs/edit/master/docs/basic-docs/atomicdex/atomicdex-tutorials/atomicdex-metrics.md" target="_blank" rel="noopener noreferrer">Suggest an improvement for this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/basic-docs/atomicdex/atomicdex-tutorials/how-to-become-a-liquidity-provider.html" class="prev">
          How to Become a Liquidity Provider
        </a></span> <span class="next"><a href="/basic-docs/atomicdex/atomicdex-tutorials/additional-information-about-atomicdex.html">
          Additional Information About AtomicDEX
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.01355489.js" defer></script><script src="/assets/js/3.95b03a41.js" defer></script><script src="/assets/js/4.d40d3351.js" defer></script><script src="/assets/js/25.3776c0bc.js" defer></script>
  </body>
</html>
